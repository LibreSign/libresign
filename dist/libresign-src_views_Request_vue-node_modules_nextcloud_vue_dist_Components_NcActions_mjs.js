"use strict";(self.webpackChunklibresign=self.webpackChunklibresign||[]).push([["src_views_Request_vue-node_modules_nextcloud_vue_dist_Components_NcActions_mjs"],{124:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(1354),r=n.n(i),A=n(6314),s=n.n(A)()(r());s.push([t.id,".content-file[data-v-7decd1f7]{display:flex;flex-direction:column;align-items:center;max-height:235px;min-height:235px;margin:30px 40px 20px 20px;padding:10px 20px 10px 20px;cursor:pointer;min-width:225px;max-width:225px;overflow:hidden;text-overflow:ellipsis}.content-file[data-v-7decd1f7]:hover,.content-file[data-v-7decd1f7]:focus,.content-file[data-v-7decd1f7]:active{background-color:var(--color-background-hover);--color-text-maxcontrast: var(--color-main-text)}.content-file:hover>*[data-v-7decd1f7],.content-file:focus>*[data-v-7decd1f7],.content-file:active>*[data-v-7decd1f7]{--color-border: var(--color-border-dark)}.content-file[data-v-7decd1f7]:hover,.content-file[data-v-7decd1f7]:focus,.content-file[data-v-7decd1f7]:active{border-radius:10px}.content-file img[data-v-7decd1f7]{width:128px;cursor:inherit}.content-file .enDot[data-v-7decd1f7]{display:flex;flex-direction:row;align-content:center;margin:5px;align-items:center;justify-content:center;cursor:inherit}.content-file .enDot .dot[data-v-7decd1f7]{width:10px;height:10px;border-radius:50%;margin-right:10px;cursor:inherit}.content-file .enDot .signed[data-v-7decd1f7]{background:green}.content-file .enDot .no-signers[data-v-7decd1f7]{background:red}.content-file .enDot .pending[data-v-7decd1f7]{background:#d67335}.content-file .enDot span[data-v-7decd1f7]{font-size:14px;font-weight:normal;text-align:center;cursor:inherit}.content-file h1[data-v-7decd1f7]{font-size:23px;width:100%;text-align:center;cursor:inherit;overflow:hidden;text-overflow:ellipsis}","",{version:3,sources:["webpack://./src/Components/File/File.vue"],names:[],mappings:"AACA,+BACC,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,gBAAA,CACA,gBAAA,CACA,0BAAA,CACA,2BAAA,CACA,cAAA,CACA,eAAA,CACA,eAAA,CACA,eAAA,CACA,sBAAA,CAEA,gHAEC,8CAAA,CAGA,gDAAA,CACA,sHACC,wCAAA,CAED,gHACC,kBAAA,CAIF,mCACC,WAAA,CACA,cAAA,CAGD,sCACC,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,UAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CAEA,2CACC,UAAA,CACA,WAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CAGD,8CACC,gBAAA,CAGD,kDACC,cAAA,CAGD,+CACC,kBAAA,CAGD,2CACC,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CAIF,kCACC,cAAA,CACA,UAAA,CACA,iBAAA,CACA,cAAA,CACA,eAAA,CACA,sBAAA",sourcesContent:["\n.content-file{\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmax-height: 235px;\n\tmin-height: 235px;\n\tmargin: 30px 40px 20px 20px;\n\tpadding: 10px 20px 10px 20px;\n\tcursor: pointer;\n\tmin-width: 225px;\n\tmax-width: 225px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\n\t&:hover, &:focus, &:active {\n\t\t// WCAG AA compliant\n\t\tbackground-color: var(--color-background-hover);\n\t\t// text-maxcontrast have been designed to pass WCAG AA over\n\t\t// a white background, we need to adjust then.\n\t\t--color-text-maxcontrast: var(--color-main-text);\n\t\t> * {\n\t\t\t--color-border: var(--color-border-dark);\n\t\t}\n\t\t& {\n\t\t\tborder-radius: 10px;\n\t\t}\n\t}\n\n\timg{\n\t\twidth: 128px;\n\t\tcursor: inherit;\n\t}\n\n\t.enDot{\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-content: center;\n\t\tmargin: 5px;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcursor: inherit;\n\n\t\t.dot{\n\t\t\twidth: 10px;\n\t\t\theight: 10px;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin-right: 10px;\n\t\t\tcursor: inherit;\n\t\t}\n\n\t\t.signed{\n\t\t\tbackground: #008000;\n\t\t}\n\n\t\t.no-signers{\n\t\t\tbackground: #ff0000;\n\t\t}\n\n\t\t.pending {\n\t\t\tbackground: #d67335\n\t\t}\n\n\t\tspan{\n\t\t\tfont-size: 14px;\n\t\t\tfont-weight: normal;\n\t\t\ttext-align: center;\n\t\t\tcursor: inherit;\n\t\t}\n\t}\n\n\th1{\n\t\tfont-size: 23px;\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t\tcursor: inherit;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n"],sourceRoot:""}]);const o=s},1628:(t,e,n)=>{n.r(e),n.d(e,{default:()=>q});var i=n(1338),r=n(7364),A=n(3814),s=n(6991);const o={name:"File",components:{FileIcon:r.A},props:{nodeId:{type:Number,default:0,required:!1}},setup:()=>({filesStore:(0,s._)()}),data:()=>({backgroundFailed:!1,gridMode:!0,cropPreviews:!0}),computed:{currentNodeId(){return this.nodeId?this.nodeId:this.filesStore.selectedNodeId},previewUrl(){if(!0===this.backgroundFailed)return null;let t="";t=this.filesStore.files[this.currentNodeId]?.uuid?.length>0?(0,A.KT)("/apps/libresign/api/v1/file/thumbnail/{nodeId}",{nodeId:this.currentNodeId}):window.location.origin+(0,A.Jv)("/core/preview?fileId={fileid}",{fileid:this.currentNodeId});const e=new URL(t);return e.searchParams.set("x",this.gridMode?"128":"32"),e.searchParams.set("y",this.gridMode?"128":"32"),e.searchParams.set("mimeFallback","true"),e.searchParams.set("a",!0===this.cropPreviews?"0":"1"),e}},methods:{openSidebar(){this.filesStore.selectFile(this.currentNodeId)},statusToClass(t){switch(Number(t)){case 0:return"no-signers";case 1:case 2:return"pending";case 3:return"signed";default:return""}}}};var a=n(5072),d=n.n(a),c=n(7825),l=n.n(c),C=n(7659),f=n.n(C),u=n(5056),p=n.n(u),h=n(540),x=n.n(h),v=n(1113),g=n.n(v),m=n(124),b={};b.styleTagTransform=g(),b.setAttributes=p(),b.insert=f().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=x();d()(m.A,b);m.A&&m.A.locals&&m.A.locals;var w=n(4486);const k=(0,w.A)(o,(function(){var t=this,e=t._self._c;return t.currentNodeId>0?e("div",{staticClass:"content-file",on:{click:t.openSidebar}},[t.previewUrl&&!0!==t.backgroundFailed?e("img",{ref:"previewImg",staticClass:"files-list__row-icon-preview",class:{"files-list__row-icon-preview--loaded":!1===t.backgroundFailed},attrs:{alt:"",loading:"lazy",src:t.previewUrl},on:{error:function(e){t.backgroundFailed=!0},load:function(e){t.backgroundFailed=!1}}}):t._m(0),t._v(" "),e("div",{staticClass:"enDot"},[e("div",{class:"none"!==t.filesStore.files[t.currentNodeId].statusText?"dot "+t.statusToClass(t.filesStore.files[t.currentNodeId].status):""}),t._v(" "),e("span",[t._v(t._s("none"!==t.filesStore.files[t.currentNodeId].statusText?t.filesStore.files[t.currentNodeId].statusText:""))])]),t._v(" "),e("h1",[t._v(t._s(t.filesStore.files[t.currentNodeId].name))])],1):t._e()}),[function(){return(0,this._self._c)("FileIcon",{attrs:{size:128}})}],!1,null,"7decd1f7",null).exports;var _=n(3281),B=n(8620);const I={name:"Request",components:{File:k,ReqestPicker:_.A},setup:()=>({filesStore:(0,s._)(),sidebarStore:(0,B.P)()}),async mounted(){(0,i.B1)("libresign:visible-elements-saved",this.closeSidebar),this.filesStore.disableIdentifySigner()},beforeUnmount(){(0,i.al)("libresign:visible-elements-saved"),this.filesStore.selectFile()},methods:{closeSidebar(){this.filesStore.selectFile()}}};var S=n(1738),y={};y.styleTagTransform=g(),y.setAttributes=p(),y.insert=f().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=x();d()(S.A,y);S.A&&S.A.locals&&S.A.locals;const q=(0,w.A)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{attrs:{id:"container-request"}},[e("header",[e("h1",[t._v(t._s(t.t("libresign","Request Signatures")))]),t._v(" "),t.sidebarStore.isVisible()?t._e():e("p",[t._v("\n\t\t\t\t"+t._s(t.t("libresign","Choose the file to request signatures."))+"\n\t\t\t")])]),t._v(" "),e("div",{staticClass:"content-request"},[e("File",{directives:[{name:"show",rawName:"v-show",value:t.filesStore.selectedNodeId>0,expression:"filesStore.selectedNodeId > 0"}],attrs:{status:"0","status-text":"none"}}),t._v(" "),t.sidebarStore.isVisible()?t._e():e("ReqestPicker",{attrs:{inline:!0}})],1)])])}),[],!1,null,"b8af8a2e",null).exports},1738:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(1354),r=n.n(i),A=n(6314),s=n.n(A)()(r());s.push([t.id,".container[data-v-b8af8a2e]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;height:100%}#container-request[data-v-b8af8a2e]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:500px;max-width:100%;text-align:center}#container-request header[data-v-b8af8a2e]{margin-bottom:2.5rem}#container-request header h1[data-v-b8af8a2e]{font-size:45px;margin-bottom:1rem}#container-request header p[data-v-b8af8a2e]{font-size:15px}#container-request .content-request[data-v-b8af8a2e]{display:flex;gap:12px;flex:1;flex-direction:column}","",{version:3,sources:["webpack://./src/views/Request.vue"],names:[],mappings:"AACA,4BACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,kBAAA,CACA,UAAA,CACA,WAAA,CAGD,oCACC,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,iBAAA,CAEA,2CACC,oBAAA,CAEA,8CACC,cAAA,CACA,kBAAA,CAGD,6CACC,cAAA,CAIF,qDACC,YAAA,CACA,QAAA,CAAA,MAAA,CACA,qBAAA",sourcesContent:["\n.container{\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 100%;\n}\n\n#container-request {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 500px;\n\tmax-width: 100%;\n\ttext-align: center;\n\n\theader {\n\t\tmargin-bottom: 2.5rem;\n\n\t\th1 {\n\t\t\tfont-size: 45px;\n\t\t\tmargin-bottom: 1rem;\n\t\t}\n\n\t\tp {\n\t\t\tfont-size: 15px;\n\t\t}\n\t}\n\n\t.content-request{\n\t\tdisplay: flex;\n\t\tgap: 12px; flex: 1;\n\t\tflex-direction: column;\n\t}\n}\n"],sourceRoot:""}]);const o=s},4764:(t,e,n)=>{n.d(e,{A:()=>i.N});var i=n(7658)}}]);
//# sourceMappingURL=libresign-src_views_Request_vue-node_modules_nextcloud_vue_dist_Components_NcActions_mjs.js.map?v=64c3aa5fc5c964ac3232